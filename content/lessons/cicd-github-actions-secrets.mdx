---
title: Secrets and Variables
chapterSlug: cicd-github-actions
duration: 8
order: 3
---

## GitHub Secrets

Store sensitive data securely.

### Setting Secrets

1. Go to Repository → Settings → Secrets
2. Click "New repository secret"
3. Add name and value

### Using Secrets

```yaml
steps:
  - name: Deploy
    env:
      DEPLOY_KEY: ${{ secrets.DEPLOY_KEY }}
      DATABASE_URL: ${{ secrets.DATABASE_URL }}
    run: ./deploy.sh
```

## Environment Variables

```yaml
env:
  RAILS_ENV: test
  
jobs:
  test:
    env:
      CI: true
    steps:
      - env:
          NODE_ENV: test
        run: npm test
```

## GitHub Context Variables

```yaml
steps:
  - run: |
      echo "Repo: ${{ github.repository }}"
      echo "Branch: ${{ github.ref }}"
      echo "SHA: ${{ github.sha }}"
      echo "Actor: ${{ github.actor }}"
```

## Environment Protection

```yaml
jobs:
  deploy:
    environment: production  # Requires approval
    steps:
      - run: ./deploy.sh
```

Configure environments in Settings → Environments.

